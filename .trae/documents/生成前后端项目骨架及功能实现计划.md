# 生成前后端项目骨架及功能实现计划

## 一、后端项目骨架（Java 17 + Spring Boot 3.2 + MyBatis-Plus + Spring Security + Redis）

### 1. 项目初始化
- 使用 Spring Initializr 生成 Spring Boot 3.2 项目
- 配置 Java 17 编译版本
- 添加所需依赖（MyBatis-Plus、Spring Security、Redis、MySQL 驱动、JWT 相关库）

### 2. 目录结构
```
src/main/java/com/example/
├── config/          # 配置类
├── controller/      # 控制器
├── entity/          # 实体类
├── mapper/          # MyBatis Mapper 接口
├── service/         # 服务层
│   └── impl/        # 服务实现
├── util/            # 工具类
└── exception/       # 异常处理
```

### 3. 核心功能实现
- **JWT 鉴权**：实现登录、刷新 token 接口
- **全局异常处理**：统一处理业务异常和系统异常
- **统一返回格式**：定义 ResultVO 类封装返回数据
- **跨域配置**：允许前端跨域请求
- **用户模块 CRUD**：实现用户的增删改查和分页查询
- **Redis 缓存**：缓存用户信息，30分钟过期

## 二、前端项目骨架（Vue3 + Vite + Pinia + Element Plus + Axios）

### 1. 项目初始化
- 使用 Vite 创建 Vue3 项目
- 安装所需依赖（Element Plus、Pinia、Axios）

### 2. 目录结构
```
src/
├── api/             # 接口封装
├── components/      # 组件
├── router/          # 路由配置
├── store/           # Pinia 状态管理
├── utils/           # 工具类
├── views/           # 页面组件
└── App.vue          # 根组件
```

### 3. 核心功能实现
- **Axios 封装**：请求拦截（添加 token）、响应拦截（统一处理 ResultVO、token 过期跳转）
- **路由配置**：分模块配置，实现登录页、首页、用户管理页
- **路由守卫**：实现登录状态校验
- **Pinia 状态管理**：存储 token 和用户信息
- **组件封装**：查询表单、分页组件、弹窗组件
- **暗黑模式适配**：Element Plus 暗黑主题
- **页面布局**：侧边栏 + 顶部导航

## 三、接口联调

### 1. 后端接口
- 实现用户分页查询接口 `/api/user/page`

### 2. 前端实现
- 在 `api/user.js` 中封装接口请求函数
- 在 `views/user/index.vue` 中实现查询、重置、分页功能
- 使用 Element Plus 组件实现表格、分页、表单

## 四、复杂业务开发（后端）

### 1. 订单支付业务
- 设计订单表和支付记录表
- 实现分布式事务（使用 Seata 或本地事务表）
- 支付流程：验证订单状态→扣减库存→生成支付记录→更新订单状态→发送支付成功消息
- 处理异常场景：库存不足、支付超时、重复支付
- 添加接口幂等性校验（基于 token）

## 五、前端复杂交互

### 1. 表单页面实现
- 表单包含输入框、下拉选择、日期选择、上传组件（多文件上传）
- 实现表单校验（必填项、手机号格式、日期范围）
- 提交前验证表单，通过后提交请求
- 上传组件支持文件预览、删除，限制文件大小和格式
- 实现表单重置功能

## 六、技术规范

- 代码符合阿里 Java 开发规范
- 详细的代码注释
- 前后端分离架构
- 模块化设计

## 七、执行步骤

1. 生成后端项目骨架
2. 实现后端核心功能
3. 生成前端项目骨架
4. 实现前端核心功能
5. 实现前后端接口联调
6. 实现复杂业务开发
7. 实现前端复杂交互
8. 测试和优化

## 八、注意事项

- 确保使用 Java 17 和 Spring Boot 3.2
- 数据库使用 MySQL 8.0
- Redis 缓存用户信息设置 30 分钟过期
- 前端适配 Element Plus 暗黑模式
- 所有代码符合阿里 Java 开发规范，带详细注释